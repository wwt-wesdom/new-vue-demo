Http
## 缓存
#1. 强缓存
浏览器的缓存作用分为两种，一种是需要发送http请求，一种不需要
首先检查强缓存，这个阶段不需要发送http请求
检查方式：
http/1.0: Expires {
    过期时间（具体的时间点），存在于服务器返回的响应头（response Headers）中,告诉浏览器这个过期时间之前可以直接冲缓存取数据，不需要重新请求
    Expires:  Wed, 22 Nov 2019 08:41:00 GMT
    表示资源在2019年11月22号8点41分过期，过期了就得向服务端发请求。
    问题在于服务器时间和浏览器时间不一致，会导致过期时间不准确。
}
http/1.1: Cache-Control {
    设置的不是具体的过期时间点，而是采用过期时长来控制缓存，对应的字段是max-age，例如
    Cache-Control: max-age=3600
    代表这个请求响应后的3600s之内可以直接使用缓存
    Cache-Control属性其他值 {
        private: 这种情况就只有浏览器可以缓存，中间代理服务器不可以缓存
        no-cache: 跳过当前的强缓存，直接进入协商缓存阶段
        no-store: 非常粗暴，不进行任何形式的缓存
        s-maxage: 针对代理服务器的缓存时间
    }
}
当Expires和Cache-control同时存在时，优先考虑Cache-Control
当缓存时间超时，强缓存失效，会进行协商缓存阶段。
#2. 协商缓存
当强缓存失效后，浏览器在请求头中携带相应的缓存tag来向服务器发送请求，由服务器根据tag来决定是否使用缓存，这就是协商缓存
这样的缓存tag有两种Last-Modified和ETag。这两者各有优劣，别不纯在谁对谁有绝对优势，跟强缓存两个tag不同。
Last-Modified {
    即最后修改时间，在浏览器第一次发送请求的时候，服务器会在响应头中加这个字段
    浏览器接收到以后，如果再次请求，会在请求头中携带If-Modified-Since字段，这个字段的值就是服务器传来的最后修改时间
    服务器拿到请求头中的If-Modified-Since的字段后，会和这个服务器中该资源的最后修改时间做对比
    . 如果请求头中的这个值小于最后修改时间，说明资源更新了，返回新的资源，跟常规的http请求响应的流程一样
    . 否则返回304，告诉浏览器直接使用缓存
}
Etag {
    Etag是服务器根据当前文件的内容，给文件生成的唯一标识，只要文件里的内容发生改变，这个值就会变，服务器通过响应头把这个值
    给浏览器
    浏览器接收到Etag的值，会在下次请求时，将这个值作为If-None-Match这个字段的内容，放在请求头中发送给服务器
    服务器拿到If-None-Match后，会跟服务器上的Etag进行比较
    . 如果两者不一样，说明资源发生了改的，返回新的资源，跟常规的http请求响应的流程一样
    . 否则返回304，告诉浏览器直接使用缓存。
}
两者对比（Last-Modified, Etag）
1. 在精准度上Etag优于Last-Modified, Etag是按照内容给资源加上标识，因此嫩准确感知资源变化，而Last-Modified， 他在一些情况下
感知不到资源的变化
. 编辑了资源文件，但是资源的内容没有改，这样会造成缓存失效
. Last-Modified能感知的单位时间是秒，如果一秒钟之内资源发生了多次改变，那Last-Modified就无法体现出修改了
2. 在效率上Last-Modified高于Etag, Last-Modified仅仅是记录一个时间点，而Etag需要根据文件具体内容生成对应的哈希值
另外，若两种方式都支持的话，服务器会优先考虑Etag
#3. 缓存位置
当强缓存命中或者协商缓存命中服务器返回304时，我们直接从缓存中取数据，缓存的数据所在的位置
. Service Worker {
    
}
. Memory Cache {
    Memory Cache指的是内存缓存，从效率上讲它是最快的。但是从存活时间来讲又是最短的，当渲染进程结束后，内存缓存也就不存在了。
}
. Disk Cache {
    Disk Cache就是存储在磁盘中的缓存，从存取效率上讲是比内存缓存慢的，但是他的优势在于存储容量和存储时长
}
. Push Cache {
    即推送缓存，这是浏览器缓存的最后一道防线。它是 HTTP/2 中的内容，虽然现在应用的并不广泛，但随着 HTTP/2 的推广，它的应用越来越广泛
}
总结:
当配置了强缓存时使用强缓存，否则使用协商缓存，服务器通过请求头中的If-Modified-Since或者If-None-Match字段检查资源是否更新。
更新了资源则重新请求返回200，否则返回304
